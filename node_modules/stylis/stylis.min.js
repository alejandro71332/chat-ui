!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(null):"function"==typeof define&&define.amd?define(e(null)):window.stylis=e(null)}(function e(a){"use strict";function r(e,a,s,f,h){for(var u,d,b=0,p=0,A=0,w=0,C=0,v=0,m=0,x=0,$=0,y=0,O=0,N=0,B=0,S=0,W=0,q=0,D=0,G=0,H=0,I=s.length,ce=I-1,Ne="",Be="",De="",Ge="",He="",Ie="";W<I;){if(m=s.charCodeAt(W),W===ce)if(p+w+A+b!==0){if(0!==p)m=p===le?X:le;w=A=b=0,I++,ce++}if(p+w+A+b===0){if(W===ce){if(q>0)Be=Be.replace(g,"");if(Be.trim().length>0){switch(m){case ee:case Z:case M:case Y:case X:break;default:Be+=s.charAt(W)}m=M}}if(1===D)switch(m){case Q:case te:D=0;break;case Z:case Y:case X:case ee:break;default:W--,m=M}switch(m){case Q:for(C=(Be=Be.trim()).charCodeAt(0),O=1,H=++W;W<I;){switch(m=s.charCodeAt(W)){case Q:O++;break;case P:O--}if(0===O)break;W++}if(De=s.substring(H,W),C===de)C=(Be=Be.replace(k,"").trim()).charCodeAt(0);switch(C){case _:if(q>0)Be=Be.replace(g,"");switch(v=Be.charCodeAt(1)){case xe:case pe:case Ae:case re:u=a;break;default:u=qe}if(De=r(a,u,De,v,h+1),H=De.length,We>0&&0===H)H=Be.length;if(Ee>0)if(u=c(qe,Be,G),d=o(Me,De,u,a,Oe,ye,H,v,h),Be=u.join(""),void 0!==d)if(0===(H=(De=d.trim()).length))v=0,De="";if(H>0)switch(v){case Ae:Be=Be.replace(E,n);case xe:case pe:case re:De=Be+"{"+De+"}";break;case ge:if(Be=Be.replace(j,"$1 $2"+(Qe>0?Re:"")),De=Be+"{"+De+"}",1===Fe||2===Fe&&i("@"+De,3))De="@"+J+De+"@"+De;else De="@"+De;break;default:if(De=Be+De,f===$e)Ge+=De,De=""}else De="";break;default:De=r(a,c(a,Be,G),De,f,h+1)}He+=De,N=0,D=0,S=0,q=0,G=0,B=0,Be="",De="",m=s.charCodeAt(++W);break;case P:case M:if(Be=(q>0?Be.replace(g,""):Be).trim(),(H=Be.length)>1){if(0===S)if((C=Be.charCodeAt(0))===re||C>96&&C<123)H=(Be=Be.replace(" ",":")).length;if(Ee>0)if(void 0!==(d=o(Ke,Be,a,e,Oe,ye,Ge.length,f,h)))if(0===(H=(Be=d.trim()).length))Be="\0\0";switch(C=Be.charCodeAt(0),v=Be.charCodeAt(1),C+v){case de:break;case ve:case me:Ie+=Be+s.charAt(W);break;default:if(Be.charCodeAt(H-1)===ie)break;Ge+=t(Be,C,v,Be.charCodeAt(2))}}N=0,D=0,S=0,q=0,G=0,Be="",m=s.charCodeAt(++W)}}switch(m){case Y:case X:if(p+w+A+b+Se===0)switch(y){case T:case ne:case fe:case _:case ue:case oe:case se:case he:case le:case re:case ie:case te:case M:case Q:case P:break;default:if(S>0)D=1}if(p===le)p=0;else if(ze+N===0)q=1,Be+="\0";if(Ee*Pe>0)o(Je,Be,a,e,Oe,ye,Ge.length,f,h);ye=1,Oe++;break;case M:case P:if(p+w+A+b===0){ye++;break}default:switch(ye++,Ne=s.charAt(W),m){case Z:case ee:if(w+b+p===0)switch(x){case te:case ie:case Z:case ee:Ne="";break;default:if(m!==ee)Ne=" "}break;case de:Ne="\\0";break;case be:Ne="\\f";break;case ke:Ne="\\v";break;case ae:if(w+p+b===0&&ze>0)G=1,q=1,Ne="\f"+Ne;break;case 108:if(w+p+b+je===0&&S>0)switch(W-S){case 2:if(x===we&&s.charCodeAt(W-3)===ie)je=x;case 8:if($===Ce)je=$}break;case ie:if(w+p+b===0)S=W;break;case te:if(p+A+w+b===0)q=1,Ne+="\r";break;case fe:case ne:if(0===p)w=w===m?0:0===w?m:w;break;case U:if(w+p+A===0)b++;break;case V:if(w+p+A===0)b--;break;case T:if(w+p+b===0)A--;break;case R:if(w+p+b===0){if(0===N)switch(2*x+3*$){case 533:break;default:O=0,N=1}A++}break;case _:if(p+A+w+b+S+B===0)B=1;break;case se:case le:if(w+b+A>0)break;switch(p){case 0:switch(2*m+3*s.charCodeAt(W+1)){case 235:p=le;break;case 220:H=W,p=se}break;case se:if(m===le&&x===se){if(33===s.charCodeAt(H+2))Ge+=s.substring(H,W+1);Ne="",p=0}}}if(0===p){if(ze+w+b+B===0&&f!==ge&&m!==M)switch(m){case te:case ue:case oe:case he:case T:case R:if(0===N){switch(x){case Z:case ee:case X:case Y:Ne+="\0";break;default:Ne="\0"+Ne+(m===te?"":"\0")}q=1}else switch(m){case R:N=++O;break;case T:if(0==(N=--O))q=1,Ne+="\0"}break;case Z:case ee:switch(x){case de:case Q:case P:case M:case te:case be:case Z:case ee:case X:case Y:break;default:if(0===N)q=1,Ne+="\0"}}if(Be+=Ne,m!==ee&&m!==Z)y=m}}$=x,x=m,W++}if(H=Ge.length,We>0)if(0===H&&0===He.length&&0===a[0].length==false)if(f!==pe||1===a.length&&(ze>0?Te:Ue)===a[0])H=a.join(",").length+2;if(H>0){if(u=0===ze&&f!==ge?l(a):a,Ee>0)if(void 0!==(d=o(Le,Ge,u,e,Oe,ye,H,f,h))&&0===(Ge=d).length)return Ie+Ge+He;if(Ge=u.join(",")+"{"+Ge+"}",Fe*je!=0){if(2===Fe&&!i(Ge,2))je=0;switch(je){case Ce:Ge=Ge.replace(F,":"+K+"$1")+Ge;break;case we:Ge=Ge.replace(z,"::"+J+"input-$1")+Ge.replace(z,"::"+K+"$1")+Ge.replace(z,":"+L+"input-$1")+Ge}je=0}}return Ie+Ge+He}function c(e,a,r){var c=a.trim().split(x),t=c,i=c.length,n=e.length;switch(n){case 0:case 1:for(var f=0,l=0===n?"":e[0]+" ";f<i;++f)t[f]=s(l,t[f],r,n).trim();break;default:for(var f=0,o=0,t=[];f<i;++f)for(var h=0;h<n;++h)t[o++]=s(e[h]+" ",c[f],r,n).trim()}return t}function s(e,a,r,c){var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);switch(t){case ae:switch(ze+c){case 0:case 1:if(0===e.trim().length)break;default:return s.replace($,"$1"+e.trim())}break;case ie:switch(s.charCodeAt(1)){case 103:if(Ne>0&&ze>0)return s.replace(y,"$1").replace($,"$1"+Ue);break;default:return e.trim()+s}default:if(r*ze>0&&s.indexOf("\f")>0)return s.replace($,(e.charCodeAt(0)===ie?"":"$1")+e.trim())}return e+s}function t(e,a,r,c){var s,t=0,n=e+";",l=2*a+3*r+4*c;if(944===l)return f(n);else if(0===Fe||2===Fe&&!i(n,1))return n;switch(l){case 1015:return n.charCodeAt(9)===re?J+n+n:n;case 951:return 116===n.charCodeAt(3)?J+n+n:n;case 963:return 110===n.charCodeAt(5)?J+n+n:n;case 1009:if(100!==n.charCodeAt(4))break;case 969:case 942:return J+n+n;case 978:return J+n+K+n+n;case 1019:case 983:return J+n+K+n+L+n+n;case 883:return n.charCodeAt(8)===re?J+n+n:n;case 932:if(n.charCodeAt(4)===re)switch(n.charCodeAt(5)){case 103:return J+"box-"+n.replace("-grow","")+L+n.replace("grow","positive")+n;case 115:return L+n.replace("shrink","negative")+n;case 98:return L+n.replace("basis","preferred-size")+n}return J+n+L+n+n;case 964:return J+n+L+"flex-"+n+n;case 1023:if(99!==n.charCodeAt(8))break;return s=n.substring(n.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),J+"box-pack"+s+J+n+L+"flex-pack"+s+n;case 1005:return A.test(n)?n.replace(p,":"+J)+n.replace(p,":"+K)+n:n;case 1e3:switch(s=n.substring(13).trim(),t=s.indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=n.replace(D,"tb");break;case 232:s=n.replace(D,"tb-rl");break;case 220:s=n.replace(D,"lr");break;default:return n}return J+n+L+s+n;case 1017:if(-1===n.indexOf("sticky",9))return n;case 975:switch(t=(n=e).length-10,s=(33===n.charCodeAt(t)?n.substring(0,t):n).substring(e.indexOf(":",7)+1).trim(),l=s.charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(s.charCodeAt(8)<111)break;case 115:n=n.replace(s,J+s)+";"+n;break;case 207:case 102:n=n.replace(s,J+(l>102?"inline-":"")+"box")+";"+n.replace(s,J+s)+";"+n.replace(s,L+s+"box")+";"+n}return n+";";case 938:if(n.charCodeAt(5)===re)switch(n.charCodeAt(6)){case 105:return s=n.replace("-items",""),J+n+J+"box-"+s+L+"flex-"+s+n;case 115:return J+n+L+"flex-item-"+n.replace(H,"")+n;default:return J+n+L+"flex-line-pack"+n.replace("align-content","")+n}break;case 953:if((t=n.indexOf("-content",9))>0)if(109===n.charCodeAt(t-3)&&45!==n.charCodeAt(t-4))return s=n.substring(t-3),"width:"+J+s+"width:"+K+s+"width:"+s;break;case 962:if(n=J+n+(102===n.charCodeAt(5)?L+n:"")+n,r+c===211&&105===n.charCodeAt(13)&&n.indexOf("transform",10)>0)return n.substring(0,n.indexOf(";",27)+1).replace(w,"$1"+J+"$2")+n}return n}function i(e,a){var r=e.indexOf(1===a?":":"{"),c=e.substring(0,3!==a?r:10),s=e.substring(r+1,e.length-1);return Ge(2!==a?c:c.replace(I,"$1"),s,a)}function n(e,a){var r=t(a,a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2));return r!==a+";"?r.replace(G," or ($1)").substring(4):"("+a+")"}function f(e){var a=e.length,r=e.indexOf(":",9)+1,c=e.substring(0,r).trim(),s=e.substring(r,a-1).trim();switch(e.charCodeAt(9)*Qe){case 0:break;case re:if(110!==e.charCodeAt(10))break;default:for(var t=s.split((s="",C)),n=0,r=0,a=t.length;n<a;r=0,++n){for(var f=t[n],l=f.split(v);f=l[r];){var o=f.charCodeAt(0);if(1===Qe&&(o>_&&o<90||o>96&&o<123||o===ce||o===re&&f.charCodeAt(1)!==re))switch(isNaN(parseFloat(f))+(-1!==f.indexOf("("))){case 1:switch(f){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:f+=Re}}l[r++]=f}s+=(0===n?"":",")+l.join(" ")}}if(s=c+s+";",1===Fe||2===Fe&&i(s,1))return J+s+s;return s}function l(e){for(var a,r,c=0,s=e.length,t=Array(s);c<s;++c){for(var i=e[c].split(m),n="",f=0,l=0,o=0,h=0,u=i.length;f<u;++f){if(0===(l=(r=i[f]).length)&&u>1)continue;if(o=n.charCodeAt(n.length-1),h=r.charCodeAt(0),a="",0!==f)switch(o){case se:case ue:case oe:case he:case ee:case R:break;default:a=" "}switch(h){case ae:r=a+Te;case ue:case oe:case he:case ee:case T:case R:break;case U:r=a+r+Te;break;case ie:switch(2*r.charCodeAt(1)+3*r.charCodeAt(2)){case 530:if(Ne>0){r=a+r.substring(8,l-1);break}default:if(f<1||i[f-1].length<1)r=a+Te+r}break;case te:a="";default:if(l>1&&r.indexOf(":")>0)r=a+r.replace(q,"$1"+Te+"$2");else r=a+r+Te}n+=r}t[c]=n.replace(g,"").trim()}return t}function o(e,a,r,c,s,t,i,n,f){for(var l,o=0,h=a;o<Ee;++o)switch(l=De[o].call(b,e,h,r,c,s,t,i,n,f)){case void 0:case false:case true:case null:break;default:h=l}switch(h){case void 0:case false:case true:case null:case a:break;default:return h}}function h(e){return e.replace(g,"").replace(N,"").replace(B,"$1").replace(S,"$1").replace(W," ")}function u(e){switch(e){case void 0:case null:Ee=De.length=0;break;default:switch(e.constructor){case Array:for(var a=0,r=e.length;a<r;++a)u(e[a]);break;case Function:De[Ee++]=e;break;case Boolean:Pe=0|!!e}}return u}function d(e){for(var a in e){var r=e[a];switch(a){case"keyframe":Qe=0|r;break;case"global":Ne=0|r;break;case"cascade":ze=0|r;break;case"compress":Be=0|r;break;case"semicolon":Se=0|r;break;case"preserve":We=0|r;break;case"prefix":if(Ge=null,!r)Fe=0;else if("function"!=typeof r)Fe=1;else Fe=2,Ge=r}}return d}function b(a,c){if(void 0!==this&&this.constructor===b)return e(a);var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);if(Qe>0)Re=s.replace(O,t===U?"":"-");if(t=1,1===ze)Ue=s;else Te=s;var i,n=[Ue];if(Ee>0)if(void 0!==(i=o(Ie,c,n,n,Oe,ye,0,0,0))&&"string"==typeof i)c=i;var f=r(qe,n,c,0,0);if(Ee>0)if(void 0!==(i=o(He,f,n,n,Oe,ye,f.length,0,0))&&"string"!=typeof(f=i))t=0;return Re="",Ue="",Te="",je=0,Oe=1,ye=1,Be*t==0?f:h(f)}var k=/^\0+/g,g=/[\0\r\f]/g,p=/: */g,A=/zoo|gra/,w=/([,: ])(transform)/g,C=/,+\s*(?![^(]*[)])/g,v=/ +\s*(?![^(]*[)])/g,m=/ *[\0] */g,x=/,\r+?/g,$=/([\t\r\n ])*\f?&/g,y=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,O=/\W+/g,j=/@(k\w+)\s*(\S*)\s*/,z=/::(place)/g,F=/:(read-only)/g,N=/\s+(?=[{\];=:>])/g,B=/([[}=:>])\s+/g,S=/(\{[^{]+?);(?=\})/g,W=/\s{2,}/g,q=/([^\(])(:+) */g,D=/[svh]\w+-[tblr]{2}/,E=/\(\s*([^]*?)\s*\)/g,G=/([^]*?);/g,H=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,J="-webkit-",K="-moz-",L="-ms-",M=59,P=125,Q=123,R=40,T=41,U=91,V=93,X=10,Y=13,Z=9,_=64,ee=32,ae=38,re=45,ce=95,se=42,te=44,ie=58,ne=39,fe=34,le=47,oe=62,he=43,ue=126,de=0,be=12,ke=11,ge=107,pe=109,Ae=115,we=112,Ce=111,ve=169,me=163,xe=100,$e=112,ye=1,Oe=1,je=0,ze=1,Fe=1,Ne=1,Be=0,Se=0,We=0,qe=[],De=[],Ee=0,Ge=null,He=-2,Ie=-1,Je=0,Ke=1,Le=2,Me=3,Pe=0,Qe=1,Re="",Te="",Ue="";if(b.use=u,b.set=d,void 0!==a)d(a);return b});